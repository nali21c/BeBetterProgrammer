## 19. 코드 재사용 사례

##### 19.1 재사용 사례 1 : 복사 & 붙여넣기

복사 붙여넣기는 수드 재사용이라기보다는 코드 중복에 가깝다고 할수 있다. 이는 사악한 행위이다.
DRY(Do not Repeat Yourself) 주문을 명심하라. 로직을 공통 함수와 공통 라이브러리에 넣으라.
주의 깊게 조사하지 않은 채 웹에서 찾은 코드를 프로젝트에 복사하는 일이 없도록 하라.

##### 19.2 재사용 사례 2 : 재사용을 위한 설계

코드가 하나의 프로젝트가 아닌 더 많은 용도로 사용될 것인지 의심스러운 상황에서, 처음부터 다양하게 사용될 수 있도록 처리하는 것은 가치 없는 일이다.
당장의 요구사항을 모두 만족시킬 수 있는 가장 간단한 코드를 만드는 데에만 집중하라.
종종 다음에 사용하리라는 예측은 절대로 실현되지 않고 다음에는 전혀 예상치 못한 다른 요구사항을 요구한다.

##### 19.3 재사용 사례 3 : 개선하고 리팩토링하기

작고 모듈화된 코드를 작성하라. 깨끗하고 정돈된 상태를 유지하라.

한 곳이 아닌 여러곳에서 사용되어야 한다는 것을 깨닫는 순간, 바로 리팩토링하라. 공통 라이브러리 혹은 공통 코드 파일을 만들라.
고드는 공통화 되어야 한다. 이는 다수의 클라이언트에게 유용해서이지 개발자가 멋진 공통 라이브러리를 만들고 싶어서가 아니다.

##### 19.4 재사용 사례 4 : 매입하라, 아니면 시간 낭비다

자신의 코드로 시작, 오픈 소스 버전 활용, 서드파티 솔루션 구매 등 어느 것이 경제적으로 합리적일지 주의 깊게 고려하라.

## 20. 효과적인 버전 관리

개발자에게 버전 관리란 밥을 먹고 숨을 쉬는 것과 같다.

- 협업의 중심으로서 개발자들 간의 협력을 조율한다.
- 최신의 상태를 정의하고 게재한다.
- 프로젝트 내에서 이루어진 작업들의 기록을 유지한다.
- 추적할 수 있다.
- 작업에 대한 백업 도구로서의 역할을 한다.
- 개발자에게 안전망을 제공한다.
- 작업에 운율과 박자를 부여한다. 작업하고, 테스트 하고, 버전 관리 도구에 체크인한다.
- 동시 개발하는 동안 서로의 작업이 꼬이지 않도록 한다.
- 작업을 되돌릴 수 있다.

##### 20.1 사용하거나 잃거나

프로젝트의 시작 시점부터 버전 관리를 적용하라. 소프트웨어는 본질적으로 안전하지 않다. 디스크는 너무 쉽게 사라질 수 있다.

##### 20.2 무엇이든 하나를 골라라

Git 등을 학습하라.

##### 20.3 적절한 것 저장하기

소스파일, 설정파일, 바이너리 자원, 스크립트, 객체 파일, 바이트코드 파일 등 적절한 것을 저장하라.

##### 20.3.1 첫 번째 대답 : 모든 것을 저장하라

모든 파일을 버전 관리하라. 버전 관리 도구에 바이너리 파일을 저장하지 않는다면, 다른 어딘가에 어떤 방식으로든 저장하고 버전관리해야하기 때문이다.
한번의 간단한 체크아웃만으로도 빌드 가능한 형태로 전체 파일들을 받을 수 있어야 한다.

- 모든 소스 코드 파일
- 모든 문서 
- 모든 빌드 파일
- 모든 설정 파일
- 모든 자원(그래픽 파일, 사운드 파일, 설치형 파일, 리소스 파일)
- 모든 서드파티 제공 파일(의존성 있는 서드파티 라이브러리, 다른 회사에서 제공한 DLL 등)

##### 20.3.2 두 번째 대답 : 가능하면 적게 저장하라

- IDE 설정 파일이나 캐시 파일을 저장하지 마라.
- 자동 생성된 파일을 저장하지 말라.
- 프로젝트의 일부가 아닌 것들을 저장하지 말라.
- 테스트 보고서나 버그 보고서를 체크인 하지 말라.
- 개인적 설정을 저장하지 말라.
- 언젠가는 필요할 것이라 여겨지더라도 저장소에 저장하지 말라. 삭제할 수 있는 것을 그냥 두어 짐을 늘리지 말라.

##### 20.3.3 소프트웨어 배포본 저장하기
 
 배포본은 소스 파일과는 상관없으므로 보통 별개의 배포본 저장소에 저장한다.
 덜 동적인 파일 구조를 저장할 때는 버전 관리 도구가 그리 매력적이지 않다.
 
 ##### 20.3.4 저장소의 내부 배치
 
 최상위 디렉터리에 도움이 되는 'read me' 문서를 포함시키라.
 복제는 철저히 피하라. 서드파티 파일을 주의 깊게 관리하라.
 
 ##### 20.4 버전 관리 도구를 잘 활용하라
 
 사용하고 있는 버전 관리 도구가 어떻게 작동하는지를 이해해야 한다.
 