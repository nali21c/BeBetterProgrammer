##### 11.1.1 피드백 과정 줄이기

좋은 소프트웨어를 제대로 만들기 위해서는 피드백을 받아야 한다. 가능하면 자주, 빨리.

* 실제 사용하는 유저에서 나오는 피드백 과정이라면, 개발은 더디고 들어가는 비용도 상당할 것이다.
* QA 팀을 이용하라
* 브랜치 하여 새로운 코드를 최대한 테스트 해라
* 가장 작은 수준에서의 테스트 활용

피드백 과정이 짧을수록 설계 변경을 더 빠르게 반복할 수 있고 코드에 대해 더 강하게 확신할 수 있다.
비용은 절감 된다. 반복적이고 손이 많이 가는 일은 자동화 한다.
자동화된 테스트를 통해 피드백 과정을 줄이면, 코드 개발 과정에 도움이 될 뿐만 아니라, 재활용도 가능하다.

##### 11.1.2 테스트 코드 짜기

결국 가장 이상적인 방법은 최대한 많은 개발자 테스트를 자동화하는 것이다. 
더 열심히 일하려 하기보다 더 영리하게 일하라. IDE를 활용하라. 가장 이상적인 것은 개발자는 코드를 테스트하기 위해 코드를 짜는 것이다.
코드에 대한 확신은 결국 테스트 코드의 품질에 따라 결정된다.
잘못된 테스트 코드를 작성하면 안되지, 테스트를 하지 말아야 할 이유는 없다.
나쁜 코드를 쓰는 프로그래머 자체를 금지 할 것인가?

##### 11.1.3 누가 테스트 코드를 짜야 할까

코더 자신이 자신의 코드에 대한 테스트 코드를 작성하는 것이다. 코드를 작성하면서 자신이 그 코드를 테스트하는 것이다.

##### 11.2 테스트 유형

* 유닛 테스트 : 가장 작은 단위의 기능에 대한 테스트를 단독으로 수행, 각각의 함수가 잘 동작하는지 확인. 단독이란 말은 그 어떤 외부에 대한 접속도 하지 않는다(DB, 네트워크 등등)
* 통합 테스트 : 단위 모듈을 더 큰 결합체로 통합하여 작동, 통합된 단위 요소들이 서로 잘 통합되어 있고 정확하게 상호 작동하는지 확인할 수 있다. 보통 유닛 테스트 코드 작성시 같은 프레임워크 사용.
* 시스템 테스트 : 종단 간 테스트

TDD에는 여러 형태가 있다. 각 프로젝트마다 달라질 수 있다.

##### 11.3 언제 테스트를 작성할까

TDD(Test-driven development)

1. 다음으로 구현해야 하는 기능 결정, 해당 기능에 대한 테스트 작성. 당연 테스트 결과는 실패.
2. 테스트를 작성한 뒤 최대한 간단한 방법으로 기능 구현. 기능이 통과 되었다면 적절히 구현된 것. 각 단계에서 작은 기능을 추가하면서 작은 테스트도 함께 추가. 각 테스트가 작은만큼 실행도 빠름.
3. 코드를 정리하라. 이상한 공통분모를 리팩토링하라. 테스트 대상 시스템(SUT)을 재구조화 하여 더 나은 구조로 만들라.
4. 첫 단계로 돌아가서, 요구사항에 대한 테스트 케이스 전체를 통과할 때까지 테스트 반복

짦은 피드백 과정의 강력하면서도 매력적인 일례 -> 레드그린리팩토링 주기(실패:빨강 성공:녹색)
모든 것이 기능적으로 정확성을 보장하고 퇴행을 방어할 뿐만 아니라, 클래스 API가 실제로 어떻게 사용될지, 간결할지 확인할 수 있는 최고의 방법이다.
이는 나중에 유요한 문서가 될수도 있다.

프로그래머는 책임을 지고 유닛 테스트와 더불어 작성한 코드를 검증해야 한다. 이는 큰비용이 들지 않고, 코드 구조가 좋다면 크게 어려운 일도 아니다.
출시 코드에 대해 버그를 수정할 때에도 테스트 작성에 좋은 시기가 될 수 있다. 우선 버그의 원인을 설명하는 실패 유닛 테스트를 작성하라.
테스트 풀에 테스트를 집어넣고 나면, 다시는 똑같은 버그가 나타나지 않도록 테스트 할 수 있다.